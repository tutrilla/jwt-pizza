# Penetration Testing Report

## Peer Names
- Tyler Blackham
- Thomas Utrilla

## Self Attack
### Thomas Utrila

## Peer Attack

### Thomas Utrilla (attacking Tyler Blackham)

## 1. Unauthorized User Role Modification Attempt  

| Item           | Result                                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| Date           | December 9, 2025                                                                                                                      |
| Target         | https://pizza.tab518.click/                                                                                                           |
| Classification | Broken Access Control (OWASP A01:2021)                                                                                                |
| Severity       | 0 — Unsuccessful                                                                                                                      |
| Description    | Attempted to modify a user's roles by forging a request body containing `"role": "admin"`. The server rejected the request with a 401 Unauthorized response, confirming proper authorization controls. |
| Images         | ![attack_add_user](attack_add_user.png)                                                                                               |
| Corrections    | No correction needed, proper authorization checks prevented the exploit.                                                                |

---

## 2. Unauthorized Franchise Deletion Attempt  

| Item           | Result                                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| Date           | December 9, 2025                                                                                                                      |
| Target         | https://pizza.tab518.click/                                                                                                           |
| Classification | Broken Access Control (OWASP A01:2021)                                                                                                |
| Severity       | 0 — Unsuccessful                                                                                                                      |
| Description    | A DELETE request to `/api/franchise/1` was made using an unauthorized token. The server returned a 500 Internal Server Error caused by `"Cannot read properties of undefined (reading 'isRole')"`, preventing the deletion but exposing an internal stack trace. |
| Images         | ![attack_delete_franchise](attack_delete_franchise.png)                                                                              |
| Corrections    | Sanitize error responses to avoid leaking stack traces; ensure role-check logic is null-safe.                                         |

---

## 3. Successful Unauthorized Access to Admin Franchise Data  

| Item           | Result                                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| Date           | December 9, 2025                                                                                                                      |
| Target         | https://pizza.tab518.click/                                                                                                           |
| Classification | Broken Access Control (OWASP A01:2021)                                                                                                |
| Severity       | 1 — Low                                                                                                                               |
| Description    | Successfully accessed admin-only endpoint `/api/franchise?page=0&limit=3&name=*` and retrieved franchise data, including store names. Although no modification occurred, sensitive administrative data was exposed. |
| Images         | ![attack_success_accessedadmindata](attack_success_accessedadmindata.png)                                                             |
| Corrections    | Restrict franchise endpoints to admin roles; validate JWTs before resolving queries; implement server-side role-based routing.        |

---

## 4. Unauthorized Attempt to Update User Role  

| Item           | Result                                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| Date           | December 9, 2025                                                                                                                      |
| Target         | https://pizza.tab518.click/                                                                                                           |
| Classification | Broken Access Control (OWASP A01:2021)                                                                                                |
| Severity       | 0 — Unsuccessful                                                                                                                      |
| Description    | Attempted to elevate another user's role to `"admin"` by modifying `/api/user/{id}`. Server responded with 401 Unauthorized, indicating proper access control blocked privilege escalation. |
| Images         | ![attack_update_user_role](attack_update_user_role.png)                                                                               |
| Corrections    | No correction needed, authorization checks worked.                                                                                     |

---

## 5. Default Password Enumeration / Weak Credential Attempt  

| Item           | Result                                                                                                                                 |
| -------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| Date           | December 9, 2025                                                                                                                      |
| Target         | https://pizza.tab518.click/                                                                                                           |
| Classification | Identification & Authentication Failures (OWASP A07:2021)                                                                             |
| Severity       | 0 — Unsuccessful                                                                                                                      |
| Description    | Attempted to log in using a known default admin credential pattern (`a@jwt.com`). Login was rejected, showing the system does not accept default or commonly used credentials. |
| Images         | ![attack_defaultpasswords](attack_defaultpasswords.png)                                                                               |
| Corrections    | No correction needed, application properly rejects weak/default credentials. |

---
